<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Fake Live YouTube Style avec compteur dynamique</title>
<style>
  body, html {
    margin: 0; padding: 0; height: 100%;
    font-family: Arial, sans-serif;
    background: #fff;
    display: flex;
    overflow: hidden;
  }
  #left {
    position: relative;
    width: 50%;
    background: black;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  video {
    width: 100%;
    height: 100vh;
    object-fit: cover;
  }
  #live-badge {
    position: absolute;
    top: 15px;
    left: 15px;
    background: red;
    color: white;
    font-weight: bold;
    padding: 6px 12px;
    border-radius: 20px;
    font-size: 14px;
    user-select: none;
  }
  #right {
    width: 50%;
    background: #f9f9f9;
    display: flex;
    flex-direction: column;
    padding: 15px 20px;
    box-sizing: border-box;
    overflow: hidden;
  }
  #viewers {
    font-weight: 600;
    font-size: 16px;
    color: #333;
    margin-bottom: 10px;
  }
  #comments {
    flex-grow: 1;
    overflow-y: auto;
    border: 1px solid #ddd;
    border-radius: 8px;
    background: white;
    padding: 10px;
  }
  .comment {
    margin-bottom: 10px;
    font-size: 14px;
    color: #222;
    line-height: 1.3;
  }
  .don {
    color: #d48806;
    font-weight: 700;
  }
</style>
</head>
<body>

  <div id="left">
    <video id="video" autoplay muted playsinline></video>
    <div id="live-badge">üî¥ EN DIRECT</div>
  </div>

  <div id="right">
    <div id="viewers">üëÅÔ∏è 1 000 spectateurs</div>
    <div id="comments"></div>
  </div>

<script>
  // Webcam activation
  const video = document.getElementById('video');
  navigator.mediaDevices.getUserMedia({ video: true, audio: false })
    .then(stream => { video.srcObject = stream; })
    .catch(() => {
      video.poster = "https://via.placeholder.com/600x800?text=Webcam+non+disponible";
    });

  // Faux commentaires et dons
  const commentsList = [
    "üí¨ [Fan_53] : Je t'aime trop üò≠üò≠",
    "üí¨ [BigViewer88] : T‚Äôes une l√©gende üî•",
    "üí∏ [MegaDonateur] t‚Äôa envoy√© 500‚Ç¨ üí∞",
    "üí¨ [Bestie2025] : Trop fort ce live !",
    "üí∏ [Anonyme] t‚Äôa envoy√© 2000‚Ç¨ ! üò±",
    "üí¨ [ZoeLove] : Tu m√©rites 10M de fans",
    "üí¨ [Alpha2024] : Qui regarde avec moi ? üôã‚Äç‚ôÇÔ∏è",
    "üí∏ [KingMoney] t‚Äôa envoy√© 1000‚Ç¨ üí∏",
    "üí¨ [ViewerX] : C‚Äôest fou ce moment omg",
  ];

  const commentsContainer = document.getElementById('comments');
  const viewersElement = document.getElementById('viewers');
  let idx = 0;

  // Fonction pour formater un nombre avec des espaces (ex: 1000000 -> 1 000 000)
  function formatNumber(n) {
    return n.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");
  }

  // Compteur de spectateurs dynamique
  let viewers = 1000;
  const maxViewers = 10000000;
  const incrementSteps = [
    {max: 5000, step: 10, interval: 200},
    {max: 50000, step: 100, interval: 150},
    {max: 500000, step: 1000, interval: 100},
    {max: 1000000, step: 5000, interval: 90},
    {max: 5000000, step: 15000, interval: 80},
    {max: 10000000, step: 25000, interval: 70},
  ];
  let currentStep = 0;

  function increaseViewers() {
    if(viewers < maxViewers) {
      if(viewers >= incrementSteps[currentStep].max) {
        currentStep++;
      }
      viewers += incrementSteps[currentStep].step;
      if (viewers > maxViewers) viewers = maxViewers;
      viewersElement.textContent = "üëÅÔ∏è " + formatNumber(viewers) + " spectateurs";
    }
  }

  function addComment() {
    const div = document.createElement('div');
    div.className = 'comment';
    div.textContent = commentsList[idx];
    if (commentsList[idx].includes('üí∏')) {
      div.classList.add('don');
    }
    commentsContainer.appendChild(div);

    if (commentsContainer.children.length > 30) {
      commentsContainer.removeChild(commentsContainer.firstChild);
    }

    commentsContainer.scrollTop = commentsContainer.scrollHeight;

    idx = (idx + 1) % commentsList.length;
  }

  // Lancement des intervalles
  setInterval(addComment, 900);
  setInterval(increaseViewers, 100);

</script>

</body>
</html>
